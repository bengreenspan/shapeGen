//need to make a couple more changes after class

 flex-wrap: wrap;
      }

      /* #container > div {
        background-color: tomato;
        width: 75px;
        height: 75px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
      } */

      .circle {
        background-color: tomato;
        width: 75px;
        height: 75px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .square {
        background-color: tomato;
        width: 75px;
        height: 75px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .shape {
      #container > div {
        background-color: tomato;
        width: 75px;
        height: 75px;
        transition: background-color 1s;
      }

      .buttonBox {
      #buttonBox {
        display: flex;
        justify-content: space-around;
        margin-bottom: 3rem;
      }

      .buttonBox button {
        background-color: white;
        border-style: none;
      #buttonBox button {
          background-color: white;
          border-style: none;
      }

    </style>
    <title>Shape Generator</title>
  </head>
  <body>
    <h1>
      <a href="index.html">Shape Generator - </a
      ><span>Average Size: <span id="average"></span></span>
      <a href="index.html"
        >Shape Generator<span>Circle Size Avg: <span id="averages"></span></span
      ></a>
    </h1>
    <h2><i class="fas fa-list"></i> Todos</h2>
    <h2><i class="fas fa-list"></i>  Todos</h2>
    <ul>
      <li>Create a repo named shape-generator and add this index.html page</li>
      <li>
<h2><i class="fas fa-list"></i> Todos</h2>
      </li>
    </ul>
    <a href="https://github.com/FullstackAcademy/shape-generator">Repo</a>

    <div id='buttonBox'>
        <button id='squareBtn'><i class="fas fa-plus-square fa-3x"></i></button>
        <button id='circleBtn'><i class="fas fa-plus-circle fa-3x"></i></button>
    </div>

    <form>
      <input name="px" value="25" />
    </form>
    <div class="buttonBox">
      <button id="squareBtn"><i class="fas fa-plus-square fa-3x"></i></button>
      <button id="circleBtn"><i class="fas fa-plus-circle fa-3x"></i></button>
    </div>


    <div id="container"></div>


    <script>
      const form = document.querySelector("form");
      const input = form.querySelector("input");
      const link = document.querySelector("a");
      const container = document.querySelector("#container");
      const average = document.querySelector("#average");
      const squareBtn = document.querySelector("#squareBtn");
      const circleBtn = document.querySelector("#circleBtn");
      let sizeTotal = 0;
      const averages = document.querySelector("#averages");
      const squareButton = document.querySelector("#squareBtn")
      const circleButton = document.querySelector("#circleBtn")
      let circleSizeSum = 0;
      let circleCount = 0;

      container.addEventListener("click", (ev) => {
      
        if (!ev.target.id) {
          if (ev.target.tagName === "SPAN") {
            // console.log('classname -- ', ev.target.parentNode.style)
            sizeTotal -= ev.target.parentNode.style.height.split("px")[0] * 1;
            ev.target.parentNode.parentNode.removeChild(ev.target.parentNode);
            averageCircles();
          }
          if (ev.target.tagName === "DIV") {
            sizeTotal -= ev.target.style.height.split("px")[0] * 1;
            ev.target.parentNode.removeChild(ev.target);
            averageCircles();
            if(ev.target.style.borderRadius === "50%"){
            subtractCircle(ev.target.childNodes[0].innerHTML)
            }
          } else {
            ev.target.parentNode.parentNode.removeChild(ev.target.parentNode);
            if(ev.target.parentNode.style.borderRadius === "50%"){
            subtractCircle(ev.target.innerHTML);
            }
          }
        }
      });

      const averageCircles = () => {
        let totalCircles = 0;

        container.childNodes.forEach((node) => {
          let radius = node.style.borderRadius;
          if (radius !== "0%" && radius !== undefined) totalCircles++;
        });
        if (!totalCircles) average.innerHTML = "No Circles";
        else average.innerHTML = sizeTotal / totalCircles;
      const addCircle = (val) => {
        circleSizeSum += val * 1;
        circleCount++;
        averages.innerHTML = (circleSizeSum / circleCount).toFixed(2);
      };

      const subtractCircle = (val) => {
        circleSizeSum -= val;
        circleCount--;
        averages.innerHTML = (circleSizeSum / circleCount).toFixed(2);
      };

      const generateShape = (isCircle) => {
        const size = `${input.value}px`;
        //without *1, text value adds differently... need to -1 for text in childNodes
        const shape = document.createElement("div");
        shape.className = "shape";
        if(isCircle) {
            addCircle(input.value)
            shape.style.borderRadius = '50%'
        };
        shape.style.width = size;
        shape.style.height = size;
        if(isCircle) {
          shape.style.borderRadius = '50%'
          sizeTotal += input.value * 1;
        }
        else shape.style.borderRadius = '0%'
        container.appendChild(shape);
        if(isCircle) averageCircles();
        const span = document.createElement("span");
        span.innerText = input.value;
        shape.appendChild(span);
    <h2><i class="fas fa-list"></i> Todos</h2>
        generateShape(true);
      });

      squareBtn.addEventListener("click", (ev) => {
        generateShape(false);
      });
      circleButton.addEventListener('click', () => {
          generateShape(true)
      })

      circleBtn.addEventListener("click", (ev) => {
        generateShape(true);
      });
      squareButton.addEventListener('click', () => {
          generateShape(false)
      })

      generateShape(true);
      generateShape(true);
      generateShape(true);
    </script>
  </body>
</html>
</html> 
